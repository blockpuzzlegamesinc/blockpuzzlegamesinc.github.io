<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>FAQ</title>
    <style>
      :root {
        --dark-grey: #6A6A6A;
        --background-grey: #bfc2c5;
      }
      body {
        background: var(--background-grey);
        font-family: 'Myriad Pro', Arial, sans-serif;
      }
      .faq-header {
        background: #07A0AA;
        color: #fff;
        padding: 1.1rem 1rem 1rem 1rem;
        border-radius: 0 0 0px 0px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 56px;
      }
      .faq-header .icon-btn {
        background: none;
        border: none;
        color: #fff;
        font-size: 2rem;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 2;
      }
      .faq-header .icon-btn.left {
        left: 1rem;
      }
      .faq-header .icon-btn.right {
        right: 1rem;
      }
      .faq-header .header-title {
        margin: 0 auto;
        font-size: 1.4rem;
        font-weight: 500;
        letter-spacing: 0.5px;
      }
      .faq-search {
        margin: 1.2rem auto 0.5rem auto;
        max-width: 95%;
        position: relative;
      }
      .faq-search input {
        border-radius: 999px;
        padding-left: 3.2rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        border: none;
        height: 48px;
        font-size: 1.1rem;
      }
      .faq-search .search-icon {
        position: absolute;
        left: 18px;
        top: 45%;
        transform: translateY(-50%);
        color: #D6D8DA;
        font-size: 1.2rem;
        pointer-events: none;
      }
      .nav-tabs {
        border-bottom: none;
        margin-top: 0.5rem;
        margin-bottom: 0;
      }
      .nav-tabs .nav-link {
        border: none;
        color: #D6D8DA;
        background: none;
        font-weight: 500;
        font-size: 1.08rem;
        padding: 0.7rem 1.1rem 0.7rem 0;
        margin-right: 0.5rem;
        border-radius: 0;
        position: relative;
      }
      .nav-tabs .nav-link.active {
        color: #07A0AA;
        background: none;
        border: none;
      }
      .nav-tabs .nav-link.active::after {
        content: '';
        display: block;
        height: 3px;
        background: #07A0AA;
        border-radius: 2px;
        position: absolute;
        left: 0;
        right: 0;
        bottom: -7px;
      }
      .list-group {
        background: none;
        border-radius: 0;
        box-shadow: none;
      }
      .list-group-item {
        background: #fff;
        border: none;
        border-radius: 0;
        font-size: 1.08rem;
        color: #222;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.1rem 1.2rem 1.1rem 1.2rem;
        cursor: pointer;
        transition: background 0.1s;
        position: relative;
      }
      .list-group-item:not(:last-child)::after {
        content: '';
        display: block;
        position: absolute;
        left: 3.5%;
        right: 3.5%;
        bottom: 0;
        height: 0;
        border-bottom: 2.5px solid #D6D8DA;
      }
      .list-group-item:last-child::after {
        display: none;
      }
      .list-group-item .arrow {
        color: #D6D8DA;
        font-size: 1.2rem;
      }
      .list-group-item:active, .list-group-item:hover {
        background: #f2f8fa;
      }
      .tabs-bg {
        background: #fff;
        border-radius: 0px;
        padding: 2rem 1.5rem 1.5rem 1.5rem;
        margin-top: 2rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      }
      @media (max-width: 576px) {
        .faq-header {
          font-size: 1.1rem;
        }
        .faq-header .header-title {
          font-size: 1.1rem;
        }
        .faq-search input {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="faq-header">
      <span class="header-title">FAQ</span>
    </div>
    <!-- Search Bar -->
    <div class="faq-search">
      <span class="search-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#D6D8DA" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="7" />
          <line x1="16.5" y1="16.5" x2="21" y2="21" />
        </svg>
      </span>
      <input type="text" class="form-control form-control-lg" placeholder="Search">
    </div>
    <!-- Tabs -->
    <div class="container">
      <div class="tabs-bg">
      <ul class="nav nav-tabs" id="faqTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="popular-tab" data-bs-toggle="tab" data-bs-target="#popular" type="button" role="tab" aria-controls="popular" aria-selected="true">Popular articles</button>
        </li>
        <!-- <li class="nav-item" role="presentation">
          <button class="nav-link" id="before-tab" data-bs-toggle="tab" data-bs-target="#before" type="button" role="tab" aria-controls="before" aria-selected="false">Before Contacting Support</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="known-tab" data-bs-toggle="tab" data-bs-target="#known" type="button" role="tab" aria-controls="known" aria-selected="false">Known Issues</button>
        </li> -->
      </ul>
      <div class="tab-content mt-3" id="faqTabContent">
        <div class="tab-pane fade show active" id="popular" role="tabpanel" aria-labelledby="popular-tab">
          <div class="list-group" id="popular-list"></div>
        </div>
        <!-- <div class="tab-pane fade" id="before" role="tabpanel" aria-labelledby="before-tab">
          <div class="list-group" id="before-list"></div>
        </div>
        <div class="tab-pane fade" id="known" role="tabpanel" aria-labelledby="known-tab">
          <div class="list-group" id="known-list"></div>
        </div> -->
      </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="faq-articles.js"></script>
    <script>
      // Utility to get query params
      function getQueryParam(name) {
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
      }

      // Load and render articles
      async function loadArticles() {
        const game = getQueryParam('game') || 'sudoku';
        const articles = window.FAQ_ARTICLES;
        const tabs = ['popular', 'before', 'known'];
        tabs.forEach(tab => {
          const list = document.getElementById(tab + '-list');
          if (!list) return;
          list.innerHTML = '';
          articles.filter(a => a.game === game && a.tab === tab).forEach(article => {
            const a = document.createElement('a');
            a.className = 'list-group-item list-group-item-action';
            a.href = `article.html?game=${encodeURIComponent(game)}&id=${encodeURIComponent(article.id)}`;
            a.textContent = article.title;
            // Add right chevron SVG
            const arrow = document.createElement('span');
            arrow.className = 'arrow';
            arrow.innerHTML = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--dark-grey)" xmlns="http://www.w3.org/2000/svg"><path d="M8 4l8 8-8 8" stroke="var(--dark-grey)" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
            a.appendChild(arrow);
            list.appendChild(a);
          });
        });
      }
      document.addEventListener('DOMContentLoaded', loadArticles);

      // Filtering logic (unchanged)
      document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.querySelector('.faq-search input');
        const tabContent = document.getElementById('faqTabContent');
        function filterArticles() {
          const query = searchInput.value.trim().toLowerCase();
          const activePane = tabContent.querySelector('.tab-pane.active');
          if (!activePane) return;
          const articles = activePane.querySelectorAll('.list-group-item');
          articles.forEach(item => {
            const text = item.textContent.toLowerCase();
            if (text.includes(query)) {
              item.style.display = '';
            } else {
              item.style.display = 'none';
            }
          });
        }
        searchInput.addEventListener('input', filterArticles);
        document.querySelectorAll('button[data-bs-toggle="tab"]').forEach(tabBtn => {
          tabBtn.addEventListener('shown.bs.tab', function() {
            filterArticles();
          });
        });
      });
    </script>
  </body>
</html> 